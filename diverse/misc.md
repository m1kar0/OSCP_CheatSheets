# Random Tricks

## First things to do once RCE obtained

* check for ssh keys
* check config files: .git, server configs etc
* check logs


## SSH

* ignore host key

```bash

ssh -o "UserKnownHostsFile=/dev/null" -o "StrictHostKeyChecking=no" user@host
```

## Dirbusting

* extract only reachable directories

`grep -v 403 dirs_dump.log | grep '//' | uniq -i | cut -d ' ' -f 1 > dirs.txt`

## Find JavaScript file in logs

This was generated by ChatGPT... I dont know why I need this

```bash
#!/bin/bash

js_files=$(grep -oE '/[^ ]*\.js[^ ]*' $1 | awk -F/ '{print $NF}' | sed -E 's/(.*)\.js("?[^"]+")?.*/\1.js/'  | sort -u)

# Loop through the file names and print them
for file_name in $js_files; do
    echo $file_name
done

```

## Diverse Application exploits

https://exploit-notes.hdks.org/exploit/linux/privilege-escalation/ruby-privilege-escalation/

## SSH

* remove known hosts file

`rm ~/.ssh/known_hosts`

* generate fake keys 

`ssh-keygen`

* insert fake auth hosts

`cat bad_up.pub >  authorized_keys`

* use fake key

`ssh -i fake_root_key root@ip`

## setup puthon virtualenv

### python2

```bash
virtualenv -p /usr/bin/python2 myenv

source myenv/bin/activate


```

## python3

```bash

python3 -m venv myenv

source myenv/bin/activate
```

## curl and wget

Both work wihtout protocol too

like

`wget 192.168.1.40`